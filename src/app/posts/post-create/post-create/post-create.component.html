<mat-card>
  <mat-spinner *ngIf="isLoading"></mat-spinner>
    <form [formGroup]="form" (submit) = "onSavePost()" *ngIf="!isLoading">
      <mat-form-field>
        <input
        matInput type = "text"
        formControlName="title"
        placeholder= "Title"
        >
        <mat-error *ngIf="form.get('title').invalid">Put a title!</mat-error>
      </mat-form-field>
      <br>
      <mat-form-field>
        <input
        matInput type = "text"
        formControlName="author"
        placeholder= "Author"
        >
        <mat-error *ngIf="form.get('author').invalid">Put an author!</mat-error>
      </mat-form-field>
      <br>
      <mat-form-field>
        <input
        matInput type = "text"
        formControlName="course"
        placeholder= "Course"
        >
        <mat-error *ngIf="form.get('course').invalid">Put a course!</mat-error>
      </mat-form-field>
      <br>
      <mat-form-field>
        <input
        matInput type = "text"
        formControlName="university"
        placeholder= "University"
        >
        <mat-error *ngIf="form.get('university').invalid">Put a course!</mat-error>
      </mat-form-field>
      <br>
      <mat-form-field>
        <input
        matInput type = "number"
        formControlName="startingPrice"
        placeholder= "Starting Price"
        >
        <mat-error *ngIf="form.get('startingPrice').invalid">Put a starting price!</mat-error>
      </mat-form-field>
      <br>
      <mat-form-field>
        <input
        matInput type = "number"
        formControlName="minimumAllowedPrice"
        placeholder= "Minimum Allowed Price"
        >
        <mat-error *ngIf="form.get('minimumAllowedPrice').invalid">Put a minimum allowed price!</mat-error>
      </mat-form-field>
      <br>
      <mat-form-field>
        <mat-label>Expiration Date</mat-label>
        <input matInput [matDatepicker]="picker1" formControlName="date">
        <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
        <mat-datepicker #picker1></mat-datepicker>
        <mat-datepicker #picker></mat-datepicker>
      </mat-form-field>
      <br>
      <div>
        <button mat-stroked-button type="button" (click)="filePicker.click()">Pick image!</button>
        <input type="file" #filePicker (change)="onImagePicked($event)">
      </div>
      <div class="image-preview" *ngIf="imagePreview !=='' && imagePreview && form.get('image').valid">
        <img [src] = "imagePreview" [alt]="form.value.title">
      </div>
      <br>
      <mat-form-field>
        <textarea matInput
        rows="1"
        formControlName="content"
        placeholder= "Post Content"
        >
        </textarea>
        <mat-error *ngIf="form.get('content').invalid">Put a content!</mat-error>
      </mat-form-field>
      <br>
    <button
      mat-raised-button
      color = "primary"
      type="submit">Save Button
    </button>
    </form>
</mat-card>
